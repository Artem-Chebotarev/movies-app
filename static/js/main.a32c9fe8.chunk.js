(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{12:function(e,t,n){e.exports={loadingContainer:"MoviesList_loadingContainer__3Mp1F",container:"MoviesList_container__1HSxl"}},16:function(e,t,n){e.exports={header:"Header_header__1VCKf"}},19:function(e,t,n){e.exports={loader:"Loader_loader__1j2Bs",rotate:"Loader_rotate__2CUi0"}},3:function(e,t,n){e.exports={movie:"MovieItem_movie__9A26v",poster:"MovieItem_poster__2rSKo",movieInfo:"MovieItem_movieInfo__2U8Kg",iconsContainer:"MovieItem_iconsContainer__zjtnR",favourite:"MovieItem_favourite__2wEuO",icon:"MovieItem_icon__2bvZ6"}},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var i,r=n(7),o=n.n(r),a=n(5),c=n(4),s=n(15),u=n(2);!function(e){e.FETCH_MOVIES="FETCH_MOVIES",e.FETCH_MOVIES_SUCCESS="FETCH_MOVIES_SUCCESS",e.FETCH_MOVIES_ERROR="FETCH_MOVIES_ERROR",e.CHANGE_FAVOURITE_STATUS="CHANGE_FAVOURITE_STATUS",e.REMOVE_MOVIE="REMOVE_MOVIE"}(i||(i={}));var v,l={movies:[],favouriteMovies:[],isLoading:!1,error:""},O=Object(c.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=e.movies,r=e.favouriteMovies;switch(t.type){case i.FETCH_MOVIES:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,error:null,movies:[],favouriteMovies:[]});case i.FETCH_MOVIES_SUCCESS:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,error:null,movies:t.payload,favouriteMovies:[]});case i.FETCH_MOVIES_ERROR:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,error:t.payload,movies:[],favouriteMovies:[]});case i.CHANGE_FAVOURITE_STATUS:var o=t.payload,a=n.map((function(e){return e.id===o&&(e=Object(u.a)(Object(u.a)({},e),{},{isFavourite:!e.isFavourite})),e})),c=a.filter((function(e){return e.isFavourite}));return Object(u.a)(Object(u.a)({},e),{},{movies:a,favouriteMovies:c});case i.REMOVE_MOVIE:var s=t.payload,v=n.filter((function(e){return e.id!==s})),O=r.filter((function(e){return e.id!==s}));return Object(u.a)(Object(u.a)({},e),{},{movies:v,favouriteMovies:O});default:return e}}}),d=n(14),j=Object(c.createStore)(O,Object(d.composeWithDevTools)(Object(c.applyMiddleware)(s.a))),f=n.p+"static/media/bin.23b38d28.svg",m=n.p+"static/media/liked.5af0b174.svg",_=n.p+"static/media/unliked.dd77469e.svg",b="The list of movies is empty";!function(e){e.SHOW_FAVOURITES_MOVIES="Show favourite movies",e.SHOW_ALL_MOVIES="Show all movies"}(v||(v={}));var p={icon:f,title:"Bin"},E={icon:m,title:"Like"},h={icon:_,title:"Like"},S=n(16),M=n.n(S),C=n(1),x=function(){return Object(C.jsx)("header",{className:M.a.header,children:"Popular movies"})},I=n(0),g=n(6),V=n.n(g),T=n(8),F=n(17),R=n(18),y="https://api.themoviedb.org/3/trending/all/day?api_key=".concat("c30375da5737e0f3b3307ebe0e1553d4"),H=function(){function e(){Object(F.a)(this,e)}return Object(R.a)(e,null,[{key:"getAll",value:function(){var e=Object(T.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y);case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),A=function(e){return Object(u.a)(Object(u.a)({},e),{},{isFavourite:!1})},N=function(){return function(){var e=Object(T.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.FETCH_MOVIES}),e.next=4,H.getAll();case 4:n=e.sent,setTimeout((function(){var e=n.results.map((function(e){return A(e)}));t({type:i.FETCH_MOVIES_SUCCESS,payload:e})}),1500),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:i.FETCH_MOVIES_ERROR,payload:"An error occurred while downloading movies"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return{type:i.CHANGE_FAVOURITE_STATUS,payload:e}},U=function(e){return{type:i.REMOVE_MOVIE,payload:e}},L=function(){var e=Object(a.b)();return Object(c.bindActionCreators)({fetchMovies:N,changeFavouriteStatus:w,removeMovie:U},e)},k=a.c,G=n(19),W=n.n(G),B=function(){return Object(C.jsx)("div",{className:W.a.loader})},K=n(20),z=function(e){return e.title?e.title:e.name},J=n(3),D=n.n(J),P=function(e){var t=e.item,n=L(),i=n.changeFavouriteStatus,r=n.removeMovie;return Object(C.jsxs)("div",{className:D.a.movie,children:[Object(C.jsx)("img",{className:D.a.poster,src:t.poster_path?"".concat("https://image.tmdb.org/t/p/w300").concat(t.poster_path):"https://www.movienewz.com/img/films/poster-holder.jpg",alt:z(t)}),Object(C.jsxs)("div",{className:D.a.movieInfo,children:[Object(C.jsx)("h4",{children:z(t)}),Object(C.jsxs)("div",{className:D.a.iconsContainer,children:[Object(C.jsx)("div",{className:D.a.favourite,children:Object(C.jsx)("img",{className:D.a.icon,onClick:function(){return e=t.id,void i(e);var e},src:t.isFavourite?E.icon:h.icon,alt:E.title})}),Object(C.jsx)("div",{className:D.a.favourite,children:Object(C.jsx)("img",{className:D.a.icon,onClick:function(){return e=t.id,void r(e);var e},src:p.icon,alt:p.title})})]})]})]})},Z=n(9),q=n.n(Z),Q=function(){var e=Object(I.useState)(!1),t=Object(K.a)(e,2),n=t[0],i=t[1],r=k((function(e){return e.movies})),o=r.movies,a=r.favouriteMovies;return Object(C.jsxs)(C.Fragment,{children:[function(e){return e.length>0&&Object(C.jsx)("button",{className:q.a.button,onClick:function(){i(!n)},children:n?v.SHOW_ALL_MOVIES:v.SHOW_FAVOURITES_MOVIES})}(o),function(e,t,n){return!e&&Object(C.jsx)("div",{className:q.a.moviesContainer,children:t.length?t.map((function(e){return Object(C.jsx)(P,{item:e},e.id)})):Object(C.jsx)("h1",{children:n})})}(n,o,b),function(e,t,n){return e&&Object(C.jsx)("div",{className:q.a.moviesContainer,children:t.length?t.map((function(e){return Object(C.jsx)(P,{item:e},e.id)})):Object(C.jsx)("h1",{children:n})})}(n,a,b)]})},X=n(12),Y=n.n(X),$=function(){var e=k((function(e){return e.movies})),t=e.error,n=e.isLoading,i=L().fetchMovies;return Object(I.useEffect)((function(){i()}),[]),Object(C.jsxs)("div",{className:Y.a.container,children:[function(e){return e&&Object(C.jsx)("div",{className:Y.a.loadingContainer,children:Object(C.jsx)(B,{})})}(n),function(e){return e&&Object(C.jsx)("h1",{children:e})}(t),Object(C.jsx)(Q,{})]})},ee=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(x,{}),Object(C.jsx)($,{})]})},te=function(){return Object(C.jsx)(ee,{})};n(33);o.a.render(Object(C.jsx)(a.a,{store:j,children:Object(C.jsx)(te,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={moviesContainer:"MoviesContainer_moviesContainer__beaGg",button:"MoviesContainer_button__3Cc-a"}}},[[34,1,2]]]);
//# sourceMappingURL=main.a32c9fe8.chunk.js.map